<div class="bs-docs-section" ng-controller="oportunidadesController">
  <div class="row">
    <div class="col-lg-12">
      <div class="page-header">
        <h1 id="tables">Oportunidades</h1>
      </div>
      <div class="bs-component">

        <div class="col-md-12 col-xs-12">
          <div class="col-md-4 col-xs-4">
            <div layout-gt-xs="row">
              <md-input-container flex-gt-xs>
                <label class="h4">Organização:</label>
              </br>
                <md-button href="#/nova-oportunidade" class="md-raised md-primary">Nova Oportunidade</md-button>
              </md-input-container>
            </div>
          </div>
          <div class="col-md-4 col-xs-4">
            <div layout-gt-xs="row">
              <md-input-container flex-gt-xs>
                <label class="h4">Voluntário:</label>
              </br>
                <md-button ng-click="selecionarOportunidades()" class="md-raised md-primary">Candidatar-se</md-button>
              </md-input-container>
            </div>
          </div>
          <div class="col-md-3 col-xs-3">
            <div layout-gt-xs="row">
              <md-input-container flex-gt-xs>
                <label>Pesquisa por área de interesse</label>
                <input ng-model="oportunidade.pesquisa">
              </md-input-container>
            </div>
          </div>
          <div class="col-md-1 col-xs-1">
            <div layout-gt-xs="row">
              <md-input-container flex-gt-xs>
                <md-button class="md-icon-button" ng-click="buscar()">
                  <img src="images/search.png" height="26" width="26" aria-label="Buscar">
                </md-button>
              </md-input-container>
            </div>
          </div>
        </div>





        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>Código</th>
              <th class="ng-binding col-md-2 col-xs-2">Descrição</th>
              <th class="ng-binding col-md-2 col-xs-2">Nome da Organização</th>
              <th class="ng-binding col-md-2 col-xs-2">Nome do Responsável</th>
              <th class="ng-binding col-md-1 col-xs-1">Email</th>
              <th class="ng-binding col-md-2 col-xs-2">Período</th>
              <th class="ng-binding col-md-1 col-xs-1">Selecionar</th>
              <th class="ng-binding col-md-1 col-xs-1"></th>
              <th class="ng-binding col-md-1 col-xs-1"></th>
            </tr>
            <td ng-show="oportunidades.length === 0">
              <label> Nenhuma oportunidade encontrada </label>
            </td>
          </thead>
          <tbody>
            <tr ng-repeat="oportunidade in oportunidades track by $index">
              <td>{{oportunidade.codigo}}</td>
              <td class="ng-binding col-md-3 col-xs-3">{{oportunidade.descricao}}</td>
              <td class="ng-binding col-md-2 col-xs-2">
                <div ng-show="oportunidade.organizacao_id">
                  {{oportunidade.organizacao_id.nome_organizacao}}
                </div>
                <div ng-show="!oportunidade.organizacao_id">
                  Oportunidade indisponível
                </div>
              </td>
              <td class="ng-binding col-md-2 col-xs-2">{{oportunidade.responsavel}}</td>
              <td class="ng-binding col-md-2 col-xs-2">
                <div ng-show="oportunidade.organizacao_id">
                  {{oportunidade.organizacao_id.email}}
                </div>
                <div ng-show="!oportunidade.organizacao_id">
                  Oportunidade indisponível
                </div>
              </td>
              </td>
              <td class="ng-binding col-md-2 col-xs-2">{{oportunidade.dataInicioFormatada}} à {{oportunidade.dataFimFormatada}}</td>
              <td class="ng-binding col-md-1 col-xs-1">
                <md-checkbox ng-disabled="!oportunidade.organizacao_id" md-no-ink aria-label="candidatar-se" ng-model="oportunidade.selecionada"
                  class="md-primary">
                </md-checkbox>
              </td>
              <td class="ng-binding col-md-1 col-xs-1">
                <md-button ng-disabled="!oportunidade.organizacao_id" ng-click="editar(oportunidade)" class="md-primary">editar</md-button>
              </td>
              <td class="ng-binding col-md-1 col-xs-1">
                <md-button ng-click="deletar($index, oportunidades, oportunidade)" class="md-accent">deletar</md-button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>